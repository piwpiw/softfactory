# ğŸš¢ Deployment Runbook: {{SERVICE}} v{{VERSION}}

> **Purpose**: **Date:** {{DATE}}
> **Status**: ğŸŸ¢ ACTIVE (ê´€ë¦¬ ì¤‘)
> **Impact**: [Engineering / Operations]

---

## âš¡ Executive Summary (í•µì‹¬ ìš”ì•½)
- **ì£¼ìš” ë‚´ìš©**: ë³¸ ë¬¸ì„œëŠ” Deployment Runbook: {{SERVICE}} v{{VERSION}} ê´€ë ¨ í•µì‹¬ ëª…ì„¸ ë° ê´€ë¦¬ í¬ì¸íŠ¸ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
- **ìƒíƒœ**: í˜„ì¬ ìµœì‹ í™” ì™„ë£Œ ë° ê²€í†  ë¨.
- **ì—°ê´€ ë¬¸ì„œ**: [Master Index](./NOTION_MASTER_INDEX.md)

---

**Date:** {{DATE}}
**Author:** Agent 09 / DevOps-Engineer
**Strategy:** Blue-Green | Rolling | Canary

---

## âš ï¸ Prerequisites
- All items below MUST be confirmed before starting deployment.

---

## 1. Pre-Deployment Checklist

{{PRE_DEPLOY}}

- [ ] All CI checks passing on release branch
- [ ] Security scan: no new CRITICAL/HIGH findings
- [ ] Database migrations reviewed and tested on staging
- [ ] Rollback procedure tested within last 30 days
- [ ] On-call engineer confirmed available
- [ ] Maintenance window communicated (if applicable)
- [ ] Feature flags configured correctly for rollout

---

## 2. Deployment Steps

{{DEPLOY_STEPS}}

### Step 1: Build & Verify Artifact
```bash
# Example: Docker image build + push
docker build -t service:{{VERSION}} .
docker push registry/service:{{VERSION}}
```

### Step 2: Update Infrastructure (GitOps)
```bash
# Update image tag in GitOps repo
# ArgoCD / Flux will auto-reconcile
```

### Step 3: Monitor Rollout
- Watch deployment progress
- Monitor error rate and latency in Grafana
- Check logs for ERROR/CRITICAL entries

---

## 3. Health Checks

{{HEALTH_CHECKS}}

| Check | Command / URL | Expected | Timeout |
|-------|-------------|----------|---------|
| Liveness | GET /health | 200 OK | 30s |
| Readiness | GET /ready | 200 OK | 30s |
| Error rate | Grafana dashboard | < 0.1% | 5 min |
| p99 latency | Grafana dashboard | < 500ms | 5 min |

---

## 4. Rollback Procedure

{{ROLLBACK}}

### Trigger Conditions
- Error rate > 1% sustained for > 2 minutes
- p99 latency > 1000ms sustained for > 2 minutes
- Any P0 bug observed post-deployment

### Rollback Steps
```bash
# Blue-Green: switch traffic back to Blue
# GitOps: revert commit in infra repo

git revert HEAD --no-edit
git push origin main
# ArgoCD auto-reconciles to previous state
```

**Target rollback time: < 2 minutes**

---

## 5. Post-Deployment Verification

{{POST_DEPLOY}}

- [ ] Health checks passing (all environments)
- [ ] Error rate stable (< baseline)
- [ ] Key user journeys tested (smoke test suite)
- [ ] SLO dashboard: availability â‰¥ target
- [ ] Log volume normal (no error spikes)
- [ ] Stakeholders notified of successful deployment

---

## 6. Incident Response

{{INCIDENT_RESPONSE}}

### Severity Levels
| Level | Criteria | Response Time | Escalation |
|-------|----------|---------------|------------|
| P0 | Service down | Immediate | CTO + DevOps |
| P1 | Major degradation | 15 min | DevOps lead |
| P2 | Partial impact | 1 hour | On-call |
| P3 | Minor issue | Next business day | Team |

### Contacts
| Role | Name | Slack | Phone |
|------|------|-------|-------|
| DevOps Lead | â€” | â€” | â€” |
| On-call | â€” | â€” | â€” |

---

## 7. Deployment Log

| Timestamp | Action | Operator | Result |
|-----------|--------|----------|--------|
| â€” | Deployment started | â€” | â€” |
| â€” | Health checks passed | â€” | â€” |
| â€” | Deployment confirmed | â€” | â€” |

---

*Generated by Deca-Agent Document Engine | Template: DEPLOYMENT_RUNBOOK_TEMPLATE.md*